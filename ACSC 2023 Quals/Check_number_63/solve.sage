#!/bin/usr/env sage

from tqdm import tqdm
es = [65537, 65539, 65543, 65551, 65557, 65563, 65579, 65581, 65587, 65599, 65609, 65617, 65629, 65633, 65647, 65651, 65657, 65677, 65687, 65699, 65701, 65707, 65713, 65717, 65719, 65729, 65731, 65761, 65777, 65789, 65809, 65827, 65831, 65837, 65839, 65843, 65851, 65867, 65881, 65899, 65921, 65927, 65929, 65951, 65957, 65963, 65981, 65983, 65993, 66029, 66037, 66041, 66047, 66067, 66071, 66083, 66089, 66103, 66107, 66109, 66137, 66161, 66169]
dlogs = [14531, 19173, 64596, 7124, 55882, 59841, 12005, 45591, 16561, 60666, 60488, 58908, 16276, 37291, 35210, 37733, 30616, 6485, 3047, 57626, 50491, 6391, 22443, 10965, 51472, 5727, 28535, 5659, 4806, 16618, 23013, 15134, 65605, 60101, 53319, 40064, 11117, 8130, 20551, 52434, 35350, 51301, 25957, 43544, 56694, 40579, 59770, 41412, 53062, 44069, 33291, 51597, 13658, 49108, 16124, 7621, 32783, 26539, 37234, 4000, 26, 18797, 41090]
ks = [36212, 5418, 27200, 37275, 19020, 18986, 30121, 55506, 34241, 35120, 49479, 38310, 65504, 15629, 27879, 6535, 24690, 57656, 58616, 19857, 9326, 8739, 60630, 35109, 47240, 12246, 35776, 23462, 48929, 13100, 10941, 55227, 21264, 36029, 1057, 11772, 30488, 45637, 40155, 42192, 64114, 8091, 5184, 8153, 33274, 17143, 7585, 62304, 58644, 15067, 47377, 35110, 30712, 4519, 53528, 1925, 29064, 32308, 52310, 13040, 27981, 36954, 9902]

phi = crt(dlogs, es)
N = 1
for e in es:
	N *= e

n = 24575303335152579483219397187273958691356380033536698304119157688003502052393867359624475789987237581184979869428436419625817866822376950791646781307952833871208386360334267547053595730896752931770589720203939060500637555186552912818531990295111060561661560818752278790449531513480358200255943011170338510477311001482737373145408969276262009856332084706260368649633253942184185551079729283490321670915209284267457445004967752486031694845276754057130676437920418693027165980362069983978396995830448343187134852971000315053125678630516116662920249232640518175555970306086459229479906220214332209106520050557209988693711

sum_pq = (n + 1 - phi) % N
goal = (2^1024 // N) * N
sum_pq += goal
for i in tqdm(range(goal // N)):
	sum_pq += N

	if Integer(sum_pq^2 - 4 * n).sqrt() in ZZ:
		print("yay")
		break

p = (-Integer(sum_pq^2 - 4 * n).sqrt() + sum_pq) // 2
q = sum_pq - p
assert p * q == n

print(p)
print(q)
